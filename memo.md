めも

calcde.c 　「10 進数の 0.1 は、2 進数に正確に変換できない」
━━━━━━━━━━
コンピュータはすべてのデータを 2 進数として扱う。また、10 進数の小数点数の中には、下表からも分かる通り、2 進数に正確に変換できないものがある。ゆえに、0.1 を（2 進数で）100 回加えた値は 10 でない。
────────────────────────────
2 進数の表現　　　　対応する 10 進数
　 0.0000 　　　　　　 0
　 0.0001 　　　　　　 0.0625
　 0.0010 　　　　　　 0.125 　　　 ◀︎━ 表より、10 進数の 0.1 に正確に対応する 2 進数の値は存在しない。
　 0.0011 　　　　　　 0.1875
　 0.0100 　　　　　　 0.25
　 0.0101 　　　　　　 0.3125
　 0.0110 　　　　　　 0.375
　 0.0111 　　　　　　 0.4375
　 0.1000 　　　　　　 0.5
　 0.1001 　　　　　　 0.5625
　 0.1010 　　　　　　 0.625
　 0.1011 　　　　　　 0.6875
　 0.1100 　　　　　　 0.75
　 0.1101 　　　　　　 0.8125
　 0.1110 　　　　　　 0.875
　 0.1111 　　　　　　 0.9375
────────────────────────────

calcin.c 　「小数点数は整数に置き換えると正確な計算ができる」
━━━━━━━━━━
10 進数の「小数点数」の中には、2 進数に正確に変換できないものがある。一方、10 進数の「整数」の中には、（扱える値の範囲を越えなければ）2 進数に正確に変換できないものはない。ゆえに、少数点数を含む計算では、これを整数に置き換えてから計算することによって、計算結果に誤差が生じることを防ぐことができる。

【参考文献】
矢沢久雄(2021). 『プログラムはなぜ動くのか 第 3 版 知っておきたいプログラミングの基礎知識』. 日経 BP
